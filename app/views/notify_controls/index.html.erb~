<h1>Notification Controls</h1>

<p>Values in this table specify how often, in hours, the person(s) in the "Who" column should be notified for each of the conditions.</p>
<p>Click on the Device Name to see all alerts for that device. Click on the Device Serail number to edit settings for that device</p>

<table class="list">
  <tr>
    <th>Device Serial</th>
    <th>Device Name</th>
    <th>Who</th>
    <th>Jam</th>
    <th>Toner<br />Low</th>
    <th>Toner<br />Empty</th>
    <th>Paper</th>
    <th>Service</th>
    <th>Maint.</th>
    <th>Waste<br />Almost Full</th>
    <th>Waste<br />Full</th>
    <th>Job Log<br />Full</th>
  </tr>
  <% for notify_control in @notify_controls %>
    <tr class="<%=cycle('dark','light')%>">
      <td><%= link_to notify_control.device_serial, edit_notify_control_path(notify_control) %></td>
      <td><%= link_to_unless (notify_control.device_serial == 'default'),  h(@dev_names[notify_control.device_serial]), alerts_path + "?name_q=#{@dev_names[notify_control.device_serial]}&commit=Find" %></td>
      <td><%=h notify_control.who %></td>
      <td><%=h notify_control.jam %></td>
      <td><%=h notify_control.toner_low %></td>
      <td><%=h notify_control.toner_empty %></td>
      <td><%=h notify_control.paper %></td>
      <td><%=h notify_control.service %></td>
      <td><%=h notify_control.pm %></td>
      <td><%=h notify_control.waste_almost_full %></td>
      <td><%=h notify_control.waste_full %></td>
      <td><%=h notify_control.job_log_full %></td>
    </tr>
  <% end %>
</table>

<p><%= will_paginate @notify_controls %></p>
